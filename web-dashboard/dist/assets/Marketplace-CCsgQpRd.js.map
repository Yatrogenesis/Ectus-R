{"version":3,"file":"Marketplace-CCsgQpRd.js","sources":["../../node_modules/@heroicons/react/24/outline/esm/HeartIcon.js","../../node_modules/@heroicons/react/24/outline/esm/ShareIcon.js","../../node_modules/@heroicons/react/24/solid/esm/HeartIcon.js","../../src/hooks/useMarketplace.ts","../../src/pages/Marketplace.tsx"],"sourcesContent":["import * as React from \"react\";\nfunction HeartIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(HeartIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ShareIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ShareIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction HeartIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(HeartIcon);\nexport default ForwardRef;","import { useState, useEffect, useCallback } from 'react'\r\n\r\n// Types for marketplace API integration\r\nexport interface MarketplaceItem {\r\n  id: string\r\n  name: string\r\n  description: string\r\n  shortDescription: string\r\n  category: string\r\n  type: 'plugin' | 'template' | 'component' | 'tool'\r\n  author: {\r\n    name: string\r\n    avatar?: string\r\n    verified: boolean\r\n    followers: number\r\n  }\r\n  pricing: {\r\n    type: 'free' | 'paid' | 'freemium'\r\n    price?: number\r\n    currency?: string\r\n  }\r\n  stats: {\r\n    downloads: number\r\n    stars: number\r\n    reviews: number\r\n    rating: number\r\n    favorites: number\r\n  }\r\n  metadata: {\r\n    version: string\r\n    size: string\r\n    lastUpdated: string\r\n    license: string\r\n    compatibility: string[]\r\n  }\r\n  tags: string[]\r\n  images: string[]\r\n  featured: boolean\r\n  trending: boolean\r\n  sponsored: boolean\r\n}\r\n\r\nexport interface SearchFilters {\r\n  category?: string\r\n  type?: string\r\n  pricing?: string\r\n  tags?: string[]\r\n  minRating?: number\r\n  verifiedOnly?: boolean\r\n  freeOnly?: boolean\r\n}\r\n\r\nexport interface PaginationParams {\r\n  page: number\r\n  perPage: number\r\n  sortBy: string\r\n  sortOrder: 'asc' | 'desc'\r\n}\r\n\r\nexport interface SearchResponse {\r\n  items: MarketplaceItem[]\r\n  totalCount: number\r\n  page: number\r\n  perPage: number\r\n  totalPages: number\r\n}\r\n\r\nexport interface InstallationRequest {\r\n  itemId: string\r\n  version?: string\r\n}\r\n\r\nexport interface InstallationResult {\r\n  success: boolean\r\n  installationId: string\r\n  message: string\r\n}\r\n\r\n// Marketplace API client\r\nclass MarketplaceAPI {\r\n  private baseUrl: string\r\n  private apiKey?: string\r\n\r\n  constructor() {\r\n    this.baseUrl = process.env.REACT_APP_API_URL || 'https://ectus-r-saas.pako-molina.workers.dev'\r\n    this.apiKey = process.env.REACT_APP_API_KEY\r\n  }\r\n\r\n  private async request<T>(\r\n    endpoint: string,\r\n    options: RequestInit = {}\r\n  ): Promise<T> {\r\n    const url = `${this.baseUrl}${endpoint}`\r\n\r\n    const headers: HeadersInit = {\r\n      'Content-Type': 'application/json',\r\n      ...options.headers,\r\n    }\r\n\r\n    if (this.apiKey) {\r\n      headers['Authorization'] = `Bearer ${this.apiKey}`\r\n    }\r\n\r\n    const response = await fetch(url, {\r\n      ...options,\r\n      headers,\r\n    })\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! status: ${response.status}`)\r\n    }\r\n\r\n    const data = await response.json()\r\n\r\n    if (!data.success && data.error) {\r\n      throw new Error(data.error)\r\n    }\r\n\r\n    return data.data || data\r\n  }\r\n\r\n  async searchItems(\r\n    query?: string,\r\n    filters: SearchFilters = {},\r\n    pagination: PaginationParams = { page: 1, perPage: 20, sortBy: 'downloads', sortOrder: 'desc' }\r\n  ): Promise<SearchResponse> {\r\n    try {\r\n      const params = new URLSearchParams()\r\n\r\n      if (query) {\r\n        params.append('q', query)\r\n      }\r\n\r\n      if (filters.category && filters.category !== 'All Categories') {\r\n        params.append('categories', filters.category)\r\n      }\r\n\r\n      if (filters.type && filters.type !== 'All Types') {\r\n        params.append('package_type', filters.type)\r\n      }\r\n\r\n      if (filters.pricing && filters.pricing !== 'All Pricing') {\r\n        if (filters.pricing === 'free') {\r\n          params.append('free_only', 'true')\r\n        }\r\n      }\r\n\r\n      if (filters.minRating) {\r\n        params.append('min_rating', filters.minRating.toString())\r\n      }\r\n\r\n      if (filters.verifiedOnly) {\r\n        params.append('verified_only', 'true')\r\n      }\r\n\r\n      if (filters.tags && filters.tags.length > 0) {\r\n        filters.tags.forEach(tag => params.append('tags', tag))\r\n      }\r\n\r\n      params.append('page', pagination.page.toString())\r\n      params.append('per_page', pagination.perPage.toString())\r\n      params.append('sort_by', this.mapSortField(pagination.sortBy))\r\n      params.append('sort_order', pagination.sortOrder === 'desc' ? 'Descending' : 'Ascending')\r\n\r\n      const endpoint = query ? '/api/marketplace/packages/search' : '/api/marketplace/packages'\r\n      const data = await this.request<any>(`${endpoint}?${params.toString()}`)\r\n\r\n      // Transform backend response to frontend format\r\n      return {\r\n        items: data.items.map(this.transformBackendItem),\r\n        totalCount: data.total_count,\r\n        page: data.page,\r\n        perPage: data.per_page,\r\n        totalPages: data.total_pages,\r\n      }\r\n    } catch (error) {\r\n      console.warn('API search failed, using fallback data:', error)\r\n      return this.getFallbackSearchResponse(query, filters, pagination)\r\n    }\r\n  }\r\n\r\n  async getItem(itemId: string): Promise<MarketplaceItem> {\r\n    try {\r\n      const data = await this.request<any>(`/api/marketplace/packages/${itemId}`)\r\n      return this.transformBackendItem(data)\r\n    } catch (error) {\r\n      console.warn('API get item failed, using fallback data:', error)\r\n      return this.getFallbackItem(itemId)\r\n    }\r\n  }\r\n\r\n  async installItem(request: InstallationRequest): Promise<InstallationResult> {\r\n    try {\r\n      const data = await this.request<any>(`/api/marketplace/packages/${request.itemId}/install`, {\r\n        method: 'POST',\r\n        body: JSON.stringify({\r\n          version: request.version,\r\n        }),\r\n      })\r\n\r\n      return {\r\n        success: true,\r\n        installationId: data.installation.id,\r\n        message: 'Item installed successfully',\r\n      }\r\n    } catch (error) {\r\n      console.warn('API install failed:', error)\r\n      return {\r\n        success: false,\r\n        installationId: '',\r\n        message: error instanceof Error ? error.message : 'Installation failed',\r\n      }\r\n    }\r\n  }\r\n\r\n  async getFeaturedItems(): Promise<MarketplaceItem[]> {\r\n    try {\r\n      const data = await this.request<any[]>('/api/marketplace/packages/featured')\r\n      return data.map(this.transformBackendItem)\r\n    } catch (error) {\r\n      console.warn('API get featured failed, using fallback data:', error)\r\n      return this.getFallbackFeaturedItems()\r\n    }\r\n  }\r\n\r\n  async getTrendingItems(): Promise<MarketplaceItem[]> {\r\n    try {\r\n      const data = await this.request<any[]>('/api/marketplace/stats/trending')\r\n      return data.map(this.transformBackendItem)\r\n    } catch (error) {\r\n      console.warn('API get trending failed, using fallback data:', error)\r\n      return this.getFallbackTrendingItems()\r\n    }\r\n  }\r\n\r\n  async getCategories(): Promise<string[]> {\r\n    try {\r\n      const data = await this.request<any[]>('/api/marketplace/categories')\r\n      return ['All Categories', ...data.map((cat: any) => cat.name)]\r\n    } catch (error) {\r\n      console.warn('API get categories failed, using fallback data:', error)\r\n      return [\r\n        'All Categories',\r\n        'AI & Automation',\r\n        'Templates',\r\n        'Developer Tools',\r\n        'E-commerce',\r\n        'Testing',\r\n        'Security',\r\n        'Analytics',\r\n        'UI Components',\r\n      ]\r\n    }\r\n  }\r\n\r\n  async getMarketplaceStats(): Promise<any> {\r\n    try {\r\n      return await this.request<any>('/api/marketplace/stats')\r\n    } catch (error) {\r\n      console.warn('API get stats failed, using fallback data:', error)\r\n      return {\r\n        totalPackages: 1247,\r\n        totalDownloads: 892456,\r\n        activeDevelopers: 342,\r\n        packagesGrowth: '+12%',\r\n      }\r\n    }\r\n  }\r\n\r\n  // Transform backend item to frontend format\r\n  private transformBackendItem = (item: any): MarketplaceItem => {\r\n    return {\r\n      id: item.id,\r\n      name: item.name,\r\n      description: item.description,\r\n      shortDescription: item.description.substring(0, 100) + '...',\r\n      category: item.categories?.[0] || 'Uncategorized',\r\n      type: this.mapPackageType(item.package_type),\r\n      author: {\r\n        name: item.author?.username || item.author?.display_name || 'Unknown',\r\n        avatar: item.author?.avatar_url,\r\n        verified: item.author?.verified || false,\r\n        followers: 0, // Not provided in backend response\r\n      },\r\n      pricing: {\r\n        type: item.pricing ? 'paid' : 'free',\r\n        price: item.pricing?.price_cents ? item.pricing.price_cents / 100 : undefined,\r\n        currency: item.pricing?.currency || 'USD',\r\n      },\r\n      stats: {\r\n        downloads: item.downloads || 0,\r\n        stars: Math.floor(item.rating * 1000) || 0,\r\n        reviews: item.review_count || 0,\r\n        rating: item.rating || 0,\r\n        favorites: 0, // Would need separate API call\r\n      },\r\n      metadata: {\r\n        version: item.version?.toString() || '1.0.0',\r\n        size: '1.2 MB', // Would need to calculate from file_size\r\n        lastUpdated: item.updated_at,\r\n        license: this.extractLicense(item.license),\r\n        compatibility: [], // Would come from compatibility field\r\n      },\r\n      tags: item.tags || [],\r\n      images: [], // Would come from package assets\r\n      featured: false, // Would be determined by featured flag\r\n      trending: false, // Would be determined by trending algorithm\r\n      sponsored: false, // Would be determined by sponsored flag\r\n    }\r\n  }\r\n\r\n  private mapPackageType(backendType: string): 'plugin' | 'template' | 'component' | 'tool' {\r\n    const typeMap: Record<string, 'plugin' | 'template' | 'component' | 'tool'> = {\r\n      'Plugin': 'plugin',\r\n      'Template': 'template',\r\n      'Component': 'component',\r\n      'Tool': 'tool',\r\n      'Library': 'component',\r\n      'Deployment': 'tool',\r\n    }\r\n    return typeMap[backendType] || 'tool'\r\n  }\r\n\r\n  private mapSortField(frontendSort: string): string {\r\n    const sortMap: Record<string, string> = {\r\n      'Featured': 'Downloads', // Closest equivalent\r\n      'Most Popular': 'Downloads',\r\n      'Highest Rated': 'Rating',\r\n      'Newest': 'CreatedAt',\r\n      'Price: Low to High': 'Name', // Backend doesn't support price sorting yet\r\n      'Price: High to Low': 'Name',\r\n      'downloads': 'Downloads',\r\n      'rating': 'Rating',\r\n      'created': 'CreatedAt',\r\n      'updated': 'UpdatedAt',\r\n      'name': 'Name',\r\n    }\r\n    return sortMap[frontendSort] || 'Downloads'\r\n  }\r\n\r\n  private extractLicense(license: any): string {\r\n    if (typeof license === 'string') return license\r\n    if (license?.OpenSource) return license.OpenSource\r\n    if (license?.Commercial) return 'Commercial'\r\n    if (license?.Custom) return 'Custom'\r\n    return 'Unknown'\r\n  }\r\n\r\n  // Fallback methods for offline functionality\r\n  private getFallbackSearchResponse(query?: string, filters: SearchFilters = {}, pagination: PaginationParams = { page: 1, perPage: 20, sortBy: 'downloads', sortOrder: 'desc' }): SearchResponse {\r\n    const mockItems = this.getFallbackItems()\r\n\r\n    let filteredItems = mockItems\r\n\r\n    // Apply filters\r\n    if (query) {\r\n      filteredItems = filteredItems.filter(item =>\r\n        item.name.toLowerCase().includes(query.toLowerCase()) ||\r\n        item.description.toLowerCase().includes(query.toLowerCase()) ||\r\n        item.tags.some(tag => tag.toLowerCase().includes(query.toLowerCase()))\r\n      )\r\n    }\r\n\r\n    if (filters.category && filters.category !== 'All Categories') {\r\n      filteredItems = filteredItems.filter(item => item.category === filters.category)\r\n    }\r\n\r\n    if (filters.type && filters.type !== 'All Types') {\r\n      filteredItems = filteredItems.filter(item => item.type === filters.type)\r\n    }\r\n\r\n    if (filters.pricing && filters.pricing !== 'All Pricing') {\r\n      filteredItems = filteredItems.filter(item => item.pricing.type === filters.pricing)\r\n    }\r\n\r\n    // Sort items\r\n    filteredItems.sort((a, b) => {\r\n      let aValue: any, bValue: any\r\n\r\n      switch (pagination.sortBy) {\r\n        case 'Most Popular':\r\n        case 'downloads':\r\n          aValue = a.stats.downloads\r\n          bValue = b.stats.downloads\r\n          break\r\n        case 'Highest Rated':\r\n        case 'rating':\r\n          aValue = a.stats.rating\r\n          bValue = b.stats.rating\r\n          break\r\n        case 'Newest':\r\n        case 'created':\r\n          aValue = new Date(a.metadata.lastUpdated).getTime()\r\n          bValue = new Date(b.metadata.lastUpdated).getTime()\r\n          break\r\n        default:\r\n          aValue = a.stats.downloads\r\n          bValue = b.stats.downloads\r\n      }\r\n\r\n      return pagination.sortOrder === 'desc' ? bValue - aValue : aValue - bValue\r\n    })\r\n\r\n    // Apply pagination\r\n    const startIndex = (pagination.page - 1) * pagination.perPage\r\n    const endIndex = startIndex + pagination.perPage\r\n    const paginatedItems = filteredItems.slice(startIndex, endIndex)\r\n\r\n    return {\r\n      items: paginatedItems,\r\n      totalCount: filteredItems.length,\r\n      page: pagination.page,\r\n      perPage: pagination.perPage,\r\n      totalPages: Math.ceil(filteredItems.length / pagination.perPage),\r\n    }\r\n  }\r\n\r\n  private getFallbackItem(itemId: string): MarketplaceItem {\r\n    const items = this.getFallbackItems()\r\n    return items.find(item => item.id === itemId) || items[0]\r\n  }\r\n\r\n  private getFallbackItems(): MarketplaceItem[] {\r\n    // Return the same mock data structure as the original Marketplace.tsx\r\n    return [\r\n      {\r\n        id: '1',\r\n        name: 'AI Code Assistant Pro',\r\n        description: 'Advanced AI-powered code completion and generation tool with support for 50+ programming languages.',\r\n        shortDescription: 'AI-powered code completion for 50+ languages',\r\n        category: 'AI & Automation',\r\n        type: 'plugin',\r\n        author: {\r\n          name: 'CodeAI Labs',\r\n          verified: true,\r\n          followers: 12500,\r\n        },\r\n        pricing: {\r\n          type: 'freemium',\r\n          price: 29.99,\r\n          currency: 'USD',\r\n        },\r\n        stats: {\r\n          downloads: 125000,\r\n          stars: 4850,\r\n          reviews: 892,\r\n          rating: 4.8,\r\n          favorites: 3200,\r\n        },\r\n        metadata: {\r\n          version: '3.2.1',\r\n          size: '15.4 MB',\r\n          lastUpdated: '2024-01-15T10:30:00Z',\r\n          license: 'Commercial',\r\n          compatibility: ['VS Code', 'WebStorm', 'Sublime Text'],\r\n        },\r\n        tags: ['AI', 'Code Completion', 'Productivity', 'Machine Learning'],\r\n        images: ['/marketplace/ai-assistant-1.jpg'],\r\n        featured: true,\r\n        trending: true,\r\n        sponsored: false,\r\n      },\r\n      // ... add more fallback items as needed\r\n    ]\r\n  }\r\n\r\n  private getFallbackFeaturedItems(): MarketplaceItem[] {\r\n    return this.getFallbackItems().filter(item => item.featured)\r\n  }\r\n\r\n  private getFallbackTrendingItems(): MarketplaceItem[] {\r\n    return this.getFallbackItems().filter(item => item.trending)\r\n  }\r\n}\r\n\r\n// Initialize the API client\r\nconst marketplaceAPI = new MarketplaceAPI()\r\n\r\n// Main marketplace hook\r\nexport function useMarketplace() {\r\n  const [items, setItems] = useState<MarketplaceItem[]>([])\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState<string | null>(null)\r\n  const [categories, setCategories] = useState<string[]>([])\r\n  const [stats, setStats] = useState<any>(null)\r\n\r\n  const searchItems = useCallback(async (\r\n    query?: string,\r\n    filters: SearchFilters = {},\r\n    pagination: PaginationParams = { page: 1, perPage: 20, sortBy: 'downloads', sortOrder: 'desc' }\r\n  ) => {\r\n    try {\r\n      setLoading(true)\r\n      setError(null)\r\n      const response = await marketplaceAPI.searchItems(query, filters, pagination)\r\n      setItems(response.items)\r\n      return response\r\n    } catch (err) {\r\n      const errorMessage = err instanceof Error ? err.message : 'Failed to search items'\r\n      setError(errorMessage)\r\n      throw new Error(errorMessage)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }, [])\r\n\r\n  const getItem = useCallback(async (itemId: string) => {\r\n    try {\r\n      setLoading(true)\r\n      setError(null)\r\n      const item = await marketplaceAPI.getItem(itemId)\r\n      return item\r\n    } catch (err) {\r\n      const errorMessage = err instanceof Error ? err.message : 'Failed to get item'\r\n      setError(errorMessage)\r\n      throw new Error(errorMessage)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }, [])\r\n\r\n  const installItem = useCallback(async (request: InstallationRequest) => {\r\n    try {\r\n      setLoading(true)\r\n      setError(null)\r\n      const result = await marketplaceAPI.installItem(request)\r\n      return result\r\n    } catch (err) {\r\n      const errorMessage = err instanceof Error ? err.message : 'Failed to install item'\r\n      setError(errorMessage)\r\n      throw new Error(errorMessage)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }, [])\r\n\r\n  const getFeatured = useCallback(async () => {\r\n    try {\r\n      setError(null)\r\n      const featured = await marketplaceAPI.getFeaturedItems()\r\n      return featured\r\n    } catch (err) {\r\n      const errorMessage = err instanceof Error ? err.message : 'Failed to get featured items'\r\n      setError(errorMessage)\r\n      return []\r\n    }\r\n  }, [])\r\n\r\n  const getTrending = useCallback(async () => {\r\n    try {\r\n      setError(null)\r\n      const trending = await marketplaceAPI.getTrendingItems()\r\n      return trending\r\n    } catch (err) {\r\n      const errorMessage = err instanceof Error ? err.message : 'Failed to get trending items'\r\n      setError(errorMessage)\r\n      return []\r\n    }\r\n  }, [])\r\n\r\n  // Load initial data\r\n  useEffect(() => {\r\n    const loadInitialData = async () => {\r\n      try {\r\n        const [categoriesData, statsData] = await Promise.all([\r\n          marketplaceAPI.getCategories(),\r\n          marketplaceAPI.getMarketplaceStats(),\r\n        ])\r\n        setCategories(categoriesData)\r\n        setStats(statsData)\r\n      } catch (err) {\r\n        console.warn('Failed to load initial marketplace data:', err)\r\n      }\r\n    }\r\n\r\n    loadInitialData()\r\n  }, [])\r\n\r\n  return {\r\n    items,\r\n    loading,\r\n    error,\r\n    categories,\r\n    stats,\r\n    searchItems,\r\n    getItem,\r\n    installItem,\r\n    getFeatured,\r\n    getTrending,\r\n  }\r\n}\r\n\r\n// Export the API client for direct usage\r\nexport { marketplaceAPI }","import React, { useState, useMemo, useEffect } from 'react'\r\nimport {\r\n  MagnifyingGlassIcon,\r\n  StarIcon,\r\n  ArrowDownTrayIcon as DownloadIcon,\r\n  ShoppingBagIcon,\r\n  HeartIcon,\r\n  ShareIcon,\r\n  TagIcon,\r\n  UserIcon,\r\n  ClockIcon,\r\n  ShieldCheckIcon,\r\n  CurrencyDollarIcon,\r\n  PlusIcon,\r\n  ExclamationTriangleIcon,\r\n} from '@heroicons/react/24/outline'\r\nimport { StarIcon as StarIconSolid, HeartIcon as HeartIconSolid } from '@heroicons/react/24/solid'\r\nimport { cn, formatNumber, formatRelativeTime } from '@/lib/utils'\r\nimport { useMarketplace, type MarketplaceItem, type SearchFilters } from '@/hooks/useMarketplace'\r\n\r\nconst mockItems: MarketplaceItem[] = [\r\n  {\r\n    id: '1',\r\n    name: 'AI Code Assistant Pro',\r\n    description: 'Advanced AI-powered code completion and generation tool with support for 50+ programming languages.',\r\n    shortDescription: 'AI-powered code completion for 50+ languages',\r\n    category: 'AI & Automation',\r\n    type: 'plugin',\r\n    author: {\r\n      name: 'CodeAI Labs',\r\n      verified: true,\r\n      followers: 12500,\r\n    },\r\n    pricing: {\r\n      type: 'freemium',\r\n      price: 29.99,\r\n      currency: 'USD',\r\n    },\r\n    stats: {\r\n      downloads: 125000,\r\n      stars: 4850,\r\n      reviews: 892,\r\n      rating: 4.8,\r\n      favorites: 3200,\r\n    },\r\n    metadata: {\r\n      version: '3.2.1',\r\n      size: '15.4 MB',\r\n      lastUpdated: '2024-01-15T10:30:00Z',\r\n      license: 'Commercial',\r\n      compatibility: ['VS Code', 'WebStorm', 'Sublime Text'],\r\n    },\r\n    tags: ['AI', 'Code Completion', 'Productivity', 'Machine Learning'],\r\n    images: ['/marketplace/ai-assistant-1.jpg'],\r\n    featured: true,\r\n    trending: true,\r\n    sponsored: false,\r\n  },\r\n  {\r\n    id: '2',\r\n    name: 'Modern React Dashboard',\r\n    description: 'Complete React dashboard template with TypeScript, TailwindCSS, and 40+ pre-built components.',\r\n    shortDescription: 'Complete React dashboard with 40+ components',\r\n    category: 'Templates',\r\n    type: 'template',\r\n    author: {\r\n      name: 'UI Masters',\r\n      verified: true,\r\n      followers: 8900,\r\n    },\r\n    pricing: {\r\n      type: 'paid',\r\n      price: 49.99,\r\n      currency: 'USD',\r\n    },\r\n    stats: {\r\n      downloads: 35600,\r\n      stars: 2890,\r\n      reviews: 445,\r\n      rating: 4.6,\r\n      favorites: 1850,\r\n    },\r\n    metadata: {\r\n      version: '2.1.0',\r\n      size: '8.2 MB',\r\n      lastUpdated: '2024-01-14T15:45:00Z',\r\n      license: 'MIT',\r\n      compatibility: ['React 18+', 'Next.js 13+', 'Vite'],\r\n    },\r\n    tags: ['React', 'TypeScript', 'Dashboard', 'TailwindCSS'],\r\n    images: ['/marketplace/react-dashboard-1.jpg'],\r\n    featured: false,\r\n    trending: true,\r\n    sponsored: true,\r\n  },\r\n  {\r\n    id: '3',\r\n    name: 'Database Schema Visualizer',\r\n    description: 'Interactive database schema visualization tool with support for PostgreSQL, MySQL, and MongoDB.',\r\n    shortDescription: 'Visualize database schemas interactively',\r\n    category: 'Developer Tools',\r\n    type: 'tool',\r\n    author: {\r\n      name: 'DataViz Pro',\r\n      verified: false,\r\n      followers: 3400,\r\n    },\r\n    pricing: {\r\n      type: 'free',\r\n    },\r\n    stats: {\r\n      downloads: 78500,\r\n      stars: 3650,\r\n      reviews: 287,\r\n      rating: 4.4,\r\n      favorites: 2100,\r\n    },\r\n    metadata: {\r\n      version: '1.8.5',\r\n      size: '4.1 MB',\r\n      lastUpdated: '2024-01-13T09:20:00Z',\r\n      license: 'Apache 2.0',\r\n      compatibility: ['PostgreSQL', 'MySQL', 'MongoDB'],\r\n    },\r\n    tags: ['Database', 'Visualization', 'Schema', 'Developer Tools'],\r\n    images: ['/marketplace/db-visualizer-1.jpg'],\r\n    featured: false,\r\n    trending: false,\r\n    sponsored: false,\r\n  },\r\n  {\r\n    id: '4',\r\n    name: 'Payment Components Kit',\r\n    description: 'Secure, customizable payment components with Stripe, PayPal, and Apple Pay integration.',\r\n    shortDescription: 'Secure payment components with multiple providers',\r\n    category: 'E-commerce',\r\n    type: 'component',\r\n    author: {\r\n      name: 'PaymentUI',\r\n      verified: true,\r\n      followers: 6700,\r\n    },\r\n    pricing: {\r\n      type: 'paid',\r\n      price: 79.99,\r\n      currency: 'USD',\r\n    },\r\n    stats: {\r\n      downloads: 22100,\r\n      stars: 1890,\r\n      reviews: 312,\r\n      rating: 4.7,\r\n      favorites: 980,\r\n    },\r\n    metadata: {\r\n      version: '4.0.2',\r\n      size: '3.8 MB',\r\n      lastUpdated: '2024-01-12T11:15:00Z',\r\n      license: 'Commercial',\r\n      compatibility: ['React', 'Vue.js', 'Angular'],\r\n    },\r\n    tags: ['Payment', 'E-commerce', 'Stripe', 'Security'],\r\n    images: ['/marketplace/payment-kit-1.jpg'],\r\n    featured: true,\r\n    trending: false,\r\n    sponsored: false,\r\n  },\r\n  {\r\n    id: '5',\r\n    name: 'API Testing Suite',\r\n    description: 'Comprehensive API testing and documentation tool with automated testing capabilities.',\r\n    shortDescription: 'Complete API testing and documentation suite',\r\n    category: 'Testing',\r\n    type: 'tool',\r\n    author: {\r\n      name: 'TestLab Solutions',\r\n      verified: true,\r\n      followers: 4500,\r\n    },\r\n    pricing: {\r\n      type: 'freemium',\r\n      price: 19.99,\r\n      currency: 'USD',\r\n    },\r\n    stats: {\r\n      downloads: 56800,\r\n      stars: 2750,\r\n      reviews: 198,\r\n      rating: 4.5,\r\n      favorites: 1420,\r\n    },\r\n    metadata: {\r\n      version: '2.5.1',\r\n      size: '12.1 MB',\r\n      lastUpdated: '2024-01-11T14:30:00Z',\r\n      license: 'MIT',\r\n      compatibility: ['REST', 'GraphQL', 'gRPC'],\r\n    },\r\n    tags: ['API', 'Testing', 'Documentation', 'Automation'],\r\n    images: ['/marketplace/api-testing-1.jpg'],\r\n    featured: false,\r\n    trending: false,\r\n    sponsored: false,\r\n  },\r\n]\r\n\r\nconst categories = [\r\n  'All Categories',\r\n  'AI & Automation',\r\n  'Templates',\r\n  'Developer Tools',\r\n  'E-commerce',\r\n  'Testing',\r\n  'Security',\r\n  'Analytics',\r\n  'UI Components',\r\n]\r\n\r\nconst types = ['All Types', 'plugin', 'template', 'component', 'tool']\r\nconst pricing = ['All Pricing', 'free', 'paid', 'freemium']\r\nconst sortOptions = ['Featured', 'Most Popular', 'Highest Rated', 'Newest', 'Price: Low to High', 'Price: High to Low']\r\n\r\nexport default function Marketplace() {\r\n  const {\r\n    items,\r\n    loading,\r\n    error,\r\n    categories,\r\n    stats,\r\n    searchItems,\r\n    installItem,\r\n    getFeatured,\r\n  } = useMarketplace()\r\n\r\n  const [searchQuery, setSearchQuery] = useState('')\r\n  const [selectedCategory, setSelectedCategory] = useState('All Categories')\r\n  const [selectedType, setSelectedType] = useState('All Types')\r\n  const [selectedPricing, setSelectedPricing] = useState('All Pricing')\r\n  const [sortBy, setSortBy] = useState('Featured')\r\n  const [favorites, setFavorites] = useState<string[]>(['1', '4'])\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n  const [searchResults, setSearchResults] = useState<any>(null)\r\n  const [featuredItems, setFeaturedItems] = useState<MarketplaceItem[]>([])\r\n\r\n  // Load initial data and perform search\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        const filters: SearchFilters = {\r\n          category: selectedCategory,\r\n          type: selectedType,\r\n          pricing: selectedPricing,\r\n        }\r\n\r\n        const pagination = {\r\n          page: currentPage,\r\n          perPage: 20,\r\n          sortBy: sortBy.toLowerCase().replace(/\\s+/g, '_'),\r\n          sortOrder: 'desc' as const,\r\n        }\r\n\r\n        const results = await searchItems(searchQuery || undefined, filters, pagination)\r\n        setSearchResults(results)\r\n\r\n        // Load featured items if on first page and no search\r\n        if (currentPage === 1 && !searchQuery) {\r\n          const featured = await getFeatured()\r\n          setFeaturedItems(featured)\r\n        }\r\n      } catch (err) {\r\n        console.error('Failed to load marketplace data:', err)\r\n      }\r\n    }\r\n\r\n    loadData()\r\n  }, [searchQuery, selectedCategory, selectedType, selectedPricing, sortBy, currentPage])\r\n\r\n  const filteredItems = searchResults?.items || []\r\n\r\n  const toggleFavorite = (itemId: string) => {\r\n    setFavorites(prev =>\r\n      prev.includes(itemId)\r\n        ? prev.filter(id => id !== itemId)\r\n        : [...prev, itemId]\r\n    )\r\n  }\r\n\r\n  const handleInstallItem = async (item: MarketplaceItem) => {\r\n    try {\r\n      const result = await installItem({ itemId: item.id })\r\n      if (result.success) {\r\n        // Show success notification (you would implement this)\r\n        console.log(`Successfully installed ${item.name}`)\r\n      } else {\r\n        console.error(`Failed to install ${item.name}: ${result.message}`)\r\n      }\r\n    } catch (err) {\r\n      console.error(`Error installing ${item.name}:`, err)\r\n    }\r\n  }\r\n\r\n  const handleCategoryChange = (category: string) => {\r\n    setSelectedCategory(category)\r\n    setCurrentPage(1) // Reset to first page\r\n  }\r\n\r\n  const handleTypeChange = (type: string) => {\r\n    setSelectedType(type)\r\n    setCurrentPage(1)\r\n  }\r\n\r\n  const handlePricingChange = (pricing: string) => {\r\n    setSelectedPricing(pricing)\r\n    setCurrentPage(1)\r\n  }\r\n\r\n  const handleSortChange = (sort: string) => {\r\n    setSortBy(sort)\r\n    setCurrentPage(1)\r\n  }\r\n\r\n  const handleSearchChange = (query: string) => {\r\n    setSearchQuery(query)\r\n    setCurrentPage(1)\r\n  }\r\n\r\n  const getPricingDisplay = (pricing: MarketplaceItem['pricing']) => {\r\n    switch (pricing.type) {\r\n      case 'free':\r\n        return 'Free'\r\n      case 'paid':\r\n        return `$${pricing.price}`\r\n      case 'freemium':\r\n        return `Free / $${pricing.price}`\r\n      default:\r\n        return 'N/A'\r\n    }\r\n  }\r\n\r\n  const getTypeColor = (type: string) => {\r\n    const colors: Record<string, string> = {\r\n      plugin: 'bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400',\r\n      template: 'bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400',\r\n      component: 'bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400',\r\n      tool: 'bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400',\r\n    }\r\n    return colors[type] || 'bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400'\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-full\">\r\n      {/* Header */}\r\n      <div className=\"bg-white dark:bg-gray-900 shadow\">\r\n        <div className=\"px-4 sm:px-6 lg:max-w-6xl lg:mx-auto lg:px-8\">\r\n          <div className=\"py-6 md:flex md:items-center md:justify-between lg:border-t lg:border-gray-200 dark:lg:border-gray-700\">\r\n            <div className=\"flex-1 min-w-0\">\r\n              <h1 className=\"text-2xl font-bold leading-7 text-gray-900 dark:text-white sm:leading-9 sm:truncate\">\r\n                Marketplace\r\n              </h1>\r\n              <p className=\"mt-1 text-sm text-gray-500 dark:text-gray-400\">\r\n                Discover and install plugins, templates, and tools\r\n              </p>\r\n            </div>\r\n            <div className=\"mt-6 flex space-x-3 md:mt-0 md:ml-4\">\r\n              <button className=\"btn btn-secondary\">\r\n                <PlusIcon className=\"h-5 w-5 mr-2\" />\r\n                Submit Item\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Featured Banner */}\r\n        <div className=\"mb-8 bg-gradient-to-r from-primary-600 to-primary-800 rounded-lg p-6 text-white\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <h2 className=\"text-2xl font-bold mb-2\">Featured This Week</h2>\r\n              <p className=\"text-primary-100 mb-4\">\r\n                Discover the most popular tools and templates chosen by our community\r\n              </p>\r\n            </div>\r\n            <div className=\"text-right\">\r\n              <div className=\"text-3xl font-bold\">{filteredItems.filter(item => item.featured).length}</div>\r\n              <div className=\"text-primary-200\">Featured Items</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Filters */}\r\n        <div className=\"mb-8 space-y-4\">\r\n          {/* Search bar */}\r\n          <div className=\"relative max-w-md\">\r\n            <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n              <MagnifyingGlassIcon className=\"h-5 w-5 text-gray-400\" />\r\n            </div>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search marketplace...\"\r\n              value={searchQuery}\r\n              onChange={(e) => handleSearchChange(e.target.value)}\r\n              className=\"input pl-10\"\r\n            />\r\n          </div>\r\n\r\n          {/* Filter row */}\r\n          <div className=\"flex flex-wrap items-center gap-4\">\r\n            <select\r\n              value={selectedCategory}\r\n              onChange={(e) => handleCategoryChange(e.target.value)}\r\n              className=\"input w-auto\"\r\n            >\r\n              {(categories.length > 0 ? categories : ['All Categories']).map(category => (\r\n                <option key={category} value={category}>{category}</option>\r\n              ))}\r\n            </select>\r\n\r\n            <select\r\n              value={selectedType}\r\n              onChange={(e) => handleTypeChange(e.target.value)}\r\n              className=\"input w-auto\"\r\n            >\r\n              {types.map(type => (\r\n                <option key={type} value={type}>{type}</option>\r\n              ))}\r\n            </select>\r\n\r\n            <select\r\n              value={selectedPricing}\r\n              onChange={(e) => handlePricingChange(e.target.value)}\r\n              className=\"input w-auto\"\r\n            >\r\n              {pricing.map(price => (\r\n                <option key={price} value={price}>{price}</option>\r\n              ))}\r\n            </select>\r\n\r\n            <select\r\n              value={sortBy}\r\n              onChange={(e) => handleSortChange(e.target.value)}\r\n              className=\"input w-auto\"\r\n            >\r\n              {sortOptions.map(option => (\r\n                <option key={option} value={option}>{option}</option>\r\n              ))}\r\n            </select>\r\n\r\n            <span className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n              {filteredItems.length} item{filteredItems.length !== 1 ? 's' : ''}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Loading State */}\r\n        {loading && (\r\n          <div className=\"flex items-center justify-center py-12\">\r\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600\"></div>\r\n            <span className=\"ml-3 text-gray-600 dark:text-gray-400\">Loading marketplace items...</span>\r\n          </div>\r\n        )}\r\n\r\n        {/* Error State */}\r\n        {error && (\r\n          <div className=\"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-8\">\r\n            <div className=\"flex items-center\">\r\n              <ExclamationTriangleIcon className=\"h-5 w-5 text-red-600 dark:text-red-400 mr-3\" />\r\n              <div>\r\n                <h3 className=\"text-sm font-medium text-red-800 dark:text-red-200\">\r\n                  Failed to load marketplace data\r\n                </h3>\r\n                <p className=\"text-sm text-red-600 dark:text-red-400 mt-1\">\r\n                  {error}. Using cached data instead.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Items Grid */}\r\n        {!loading && filteredItems.length > 0 ? (\r\n          <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\r\n            {filteredItems.map((item) => (\r\n              <div key={item.id} className=\"card card-hover group relative\">\r\n                {/* Badges */}\r\n                <div className=\"absolute top-4 left-4 z-10 flex flex-col space-y-2\">\r\n                  {item.featured && (\r\n                    <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400\">\r\n                      Featured\r\n                    </span>\r\n                  )}\r\n                  {item.trending && (\r\n                    <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400\">\r\n                      Trending\r\n                    </span>\r\n                  )}\r\n                  {item.sponsored && (\r\n                    <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400\">\r\n                      Sponsored\r\n                    </span>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Image */}\r\n                <div className=\"aspect-video bg-gradient-to-br from-primary-500 to-primary-700 rounded-t-xl relative overflow-hidden\">\r\n                  {item.images[0] ? (\r\n                    <img\r\n                      src={item.images[0]}\r\n                      alt={item.name}\r\n                      className=\"w-full h-full object-cover\"\r\n                    />\r\n                  ) : (\r\n                    <div className=\"w-full h-full flex items-center justify-center\">\r\n                      <ShoppingBagIcon className=\"h-12 w-12 text-white/50\" />\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Overlay actions */}\r\n                  <div className=\"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-200\" />\r\n                  <div className=\"absolute top-4 right-4\">\r\n                    <button\r\n                      onClick={() => toggleFavorite(item.id)}\r\n                      className=\"p-2 bg-white/20 backdrop-blur-sm rounded-full text-white hover:bg-white/30 transition-colors\"\r\n                    >\r\n                      {favorites.includes(item.id) ? (\r\n                        <HeartIconSolid className=\"h-5 w-5 text-red-500\" />\r\n                      ) : (\r\n                        <HeartIcon className=\"h-5 w-5\" />\r\n                      )}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"p-6\">\r\n                  {/* Header */}\r\n                  <div className=\"flex items-start justify-between mb-3\">\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white truncate\">\r\n                        {item.name}\r\n                      </h3>\r\n                      <p className=\"text-sm text-gray-500 dark:text-gray-400 line-clamp-2\">\r\n                        {item.shortDescription}\r\n                      </p>\r\n                    </div>\r\n                    <span className={cn(\r\n                      'ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium flex-shrink-0',\r\n                      getTypeColor(item.type)\r\n                    )}>\r\n                      {item.type}\r\n                    </span>\r\n                  </div>\r\n\r\n                  {/* Author */}\r\n                  <div className=\"flex items-center mb-4\">\r\n                    <img\r\n                      className=\"h-6 w-6 rounded-full\"\r\n                      src={item.author.avatar || `https://ui-avatars.com/api/?name=${encodeURIComponent(item.author.name)}&background=0ea5e9&color=fff`}\r\n                      alt={item.author.name}\r\n                    />\r\n                    <span className=\"ml-2 text-sm text-gray-600 dark:text-gray-400\">\r\n                      {item.author.name}\r\n                    </span>\r\n                    {item.author.verified && (\r\n                      <ShieldCheckIcon className=\"ml-1 h-4 w-4 text-blue-500\" />\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Stats */}\r\n                  <div className=\"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 mb-4\">\r\n                    <div className=\"flex items-center space-x-3\">\r\n                      <div className=\"flex items-center\">\r\n                        <StarIcon className=\"h-4 w-4 mr-1 text-yellow-400\" />\r\n                        {item.stats.rating}\r\n                      </div>\r\n                      <div className=\"flex items-center\">\r\n                        <DownloadIcon className=\"h-4 w-4 mr-1\" />\r\n                        {formatNumber(item.stats.downloads)}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex items-center\">\r\n                      <HeartIcon className=\"h-4 w-4 mr-1\" />\r\n                      {formatNumber(item.stats.favorites)}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Tags */}\r\n                  <div className=\"flex flex-wrap gap-1 mb-4\">\r\n                    {item.tags.slice(0, 3).map(tag => (\r\n                      <span\r\n                        key={tag}\r\n                        className=\"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300\"\r\n                      >\r\n                        {tag}\r\n                      </span>\r\n                    ))}\r\n                    {item.tags.length > 3 && (\r\n                      <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                        +{item.tags.length - 3} more\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Price and actions */}\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"text-lg font-bold text-gray-900 dark:text-white\">\r\n                      {getPricingDisplay(item.pricing)}\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <button className=\"btn btn-sm btn-secondary\">\r\n                        <ShareIcon className=\"h-4 w-4\" />\r\n                      </button>\r\n                      <button\r\n                        className=\"btn btn-sm btn-primary\"\r\n                        onClick={() => handleInstallItem(item)}\r\n                        disabled={loading}\r\n                      >\r\n                        {loading ? 'Installing...' : (item.pricing.type === 'free' ? 'Install' : 'Buy Now')}\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Metadata */}\r\n                  <div className=\"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700 text-xs text-gray-500 dark:text-gray-400\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <span>v{item.metadata.version} • {item.metadata.size}</span>\r\n                      <span>{formatRelativeTime(item.metadata.lastUpdated)}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : !loading ? (\r\n          <div className=\"text-center py-12\">\r\n            <div className=\"mx-auto h-12 w-12 text-gray-400\">\r\n              <ShoppingBagIcon className=\"h-12 w-12\" />\r\n            </div>\r\n            <h3 className=\"mt-2 text-sm font-medium text-gray-900 dark:text-white\">\r\n              No items found\r\n            </h3>\r\n            <p className=\"mt-1 text-sm text-gray-500 dark:text-gray-400\">\r\n              Try adjusting your search or filters\r\n            </p>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"names":["HeartIcon","title","titleId","props","svgRef","React.createElement","ForwardRef","React.forwardRef","ShareIcon","MarketplaceAPI","__publicField","item","_a","_b","_c","_d","_e","_f","_g","_h","define_process_env_default","endpoint","options","url","headers","response","data","query","filters","pagination","params","tag","error","itemId","request","cat","backendType","frontendSort","license","filteredItems","a","b","aValue","bValue","startIndex","endIndex","items","marketplaceAPI","useMarketplace","setItems","useState","loading","setLoading","setError","categories","setCategories","stats","setStats","searchItems","useCallback","err","errorMessage","getItem","installItem","getFeatured","getTrending","useEffect","categoriesData","statsData","types","pricing","sortOptions","Marketplace","searchQuery","setSearchQuery","selectedCategory","setSelectedCategory","selectedType","setSelectedType","selectedPricing","setSelectedPricing","sortBy","setSortBy","favorites","setFavorites","currentPage","setCurrentPage","searchResults","setSearchResults","featuredItems","setFeaturedItems","results","featured","toggleFavorite","prev","id","handleInstallItem","result","handleCategoryChange","category","handleTypeChange","type","handlePricingChange","handleSortChange","sort","handleSearchChange","getPricingDisplay","getTypeColor","jsxs","jsx","PlusIcon","MagnifyingGlassIcon","e","price","option","ExclamationTriangleIcon","ShoppingBagIcon","HeartIconSolid","cn","ShieldCheckIcon","StarIcon","DownloadIcon","formatNumber","formatRelativeTime"],"mappings":"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","x_google_ignoreList":[0,1,2]}